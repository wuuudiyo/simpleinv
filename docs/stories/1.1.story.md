# Story 1.1: Electron-Projekt initialisieren

## Status

Ready for Review

## Story

**As a** Entwickler,
**I want** ein funktionierendes Electron-Projekt mit Vite und React aufsetzen,
**so that** ich eine solide Basis für die weitere Entwicklung habe.

## Acceptance Criteria

1. Projekt ist mit electron-vite initialisiert und startet ohne Fehler
2. React 18+ ist im Renderer-Prozess konfiguriert
3. TypeScript ist für Main und Renderer konfiguriert mit strikten Einstellungen
4. Hot Module Replacement (HMR) funktioniert für den Renderer
5. Build-Prozess erstellt eine lauffähige Windows-Executable
6. Basis-Ordnerstruktur ist angelegt (src/main, src/renderer, src/shared)

## Tasks / Subtasks

- [x] Task 1: Electron Forge mit Vite Template initialisieren (AC: 1, 3)
  - [x] Neues Projekt mit `npm init electron-app@latest simpleinv -- --template=vite-typescript` erstellen
  - [x] Verifizieren dass `npm start` die App ohne Fehler startet
  - [x] Verifizieren dass TypeScript korrekt konfiguriert ist

- [x] Task 2: React 19 im Renderer konfigurieren (AC: 2)
  - [x] `react` und `react-dom` (Version 19.x) installieren
  - [x] `@types/react` und `@types/react-dom` installieren
  - [x] `@vitejs/plugin-react` installieren und in `vite.renderer.config.ts` konfigurieren
  - [x] Renderer `main.tsx` und `App.tsx` als React-Komponenten erstellen
  - [x] Verifizieren dass React-Komponenten korrekt rendern

- [x] Task 3: TypeScript Konfiguration optimieren (AC: 3)
  - [x] `tsconfig.json` mit strikten Einstellungen konfigurieren:
    - `strict: true`
    - `noImplicitAny: true`
    - `strictNullChecks: true`
    - `noUnusedLocals: true`
    - `noUnusedParameters: true`
  - [x] Separate TSConfig für main, renderer, und preload konfigurieren (falls nötig)
  - [x] Path aliases für `@shared/`, `@main/`, `@renderer/` konfigurieren

- [x] Task 4: HMR verifizieren (AC: 4)
  - [x] Development Server starten mit `npm start`
  - [x] Änderung an React-Komponente vornehmen
  - [x] Verifizieren dass Änderung sofort ohne App-Neustart sichtbar ist

- [x] Task 5: Basis-Ordnerstruktur anlegen (AC: 6)
  - [x] `src/main/` Ordner erstellen mit `index.ts`
  - [x] `src/renderer/` Ordner erstellen mit Unterordnern:
    - `components/`
    - `stores/`
    - `hooks/`
    - `utils/`
  - [x] `src/shared/` Ordner erstellen mit Unterordnern:
    - `types/`
    - `ipc/`
    - `utils/`
  - [x] `src/preload/` Ordner erstellen mit `index.ts`
  - [x] Index-Dateien für Re-Exports erstellen wo sinnvoll

- [x] Task 6: Build-Prozess testen (AC: 5)
  - [x] `npm run build` ausführen
  - [x] `npm run make` ausführen um Windows-Installer zu erstellen
  - [x] Verifizieren dass Output in `out/` Ordner existiert
  - [x] Verifizieren dass die .exe Datei startet und funktioniert

- [x] Task 7: Package.json Scripts konfigurieren
  - [x] Verifizieren dass folgende Scripts existieren und funktionieren:
    - `npm start` - Development mit HMR
    - `npm run build` - Production Build
    - `npm run make` - Windows Installer erstellen
    - `npm run lint` - ESLint
    - `npm run typecheck` - TypeScript Prüfung

## Dev Notes

### Relevante Architektur-Informationen

#### Tech Stack [Source: architecture/3-tech-stack.md]
| Kategorie | Technologie | Version |
|-----------|-------------|---------|
| Runtime | Electron | 39.x |
| Frontend-Sprache | TypeScript | 5.9.x |
| Frontend-Framework | React | 19.x |
| Build Tool | Electron Forge + Vite | 7.5+ |

**Wichtig:** Verwende `Electron Forge` mit `Vite` Template, NICHT `electron-vite` (separates Tool). Das korrekte Kommando ist:
```bash
npm init electron-app@latest simpleinv -- --template=vite-typescript
```

#### Projektstruktur [Source: architecture/10-projektstruktur.md]
```
simpleinv/
├── src/
│   ├── main/                  # Electron Main Process
│   │   ├── index.ts
│   │   ├── window.ts
│   │   ├── database/
│   │   ├── ipc/
│   │   └── services/
│   │
│   ├── renderer/              # React Frontend
│   │   ├── components/
│   │   │   ├── ui/
│   │   │   ├── articles/
│   │   │   ├── categories/
│   │   │   ├── dashboard/
│   │   │   ├── settings/
│   │   │   └── layout/
│   │   ├── stores/
│   │   ├── hooks/
│   │   ├── utils/
│   │   ├── App.tsx
│   │   ├── main.tsx
│   │   └── index.css
│   │
│   ├── preload/               # Preload Scripts
│   │   └── index.ts
│   │
│   └── shared/                # Gemeinsame Typen
│       ├── types/
│       ├── ipc/
│       └── utils/
│
├── resources/                 # App-Icons
├── forge.config.ts            # Electron Forge Config
├── vite.main.config.ts
├── vite.renderer.config.ts
├── vite.preload.config.ts
├── tsconfig.json
├── package.json
└── README.md
```

#### Coding Standards [Source: architecture/11-coding-standards.md]
- **Type Sharing:** Typen in `src/shared/types/` definieren und importieren
- **Naming Conventions:**
  - React Components: PascalCase (`ArticleTable.tsx`)
  - Hooks: camelCase mit 'use' (`useArticles.ts`)
  - Stores: camelCase mit 'Store' (`articleStore.ts`)
  - TS Interfaces: PascalCase (`Article`)
- Eine Komponente pro Datei
- Index-Dateien für Re-Exports

#### Development Environment [Source: architecture/15-development-environment.md]
**Voraussetzungen:**
- Node.js 20.x LTS
- npm 10.x
- Git 2.x

**npm Scripts:**
| Script | Beschreibung |
|--------|--------------|
| `npm start` | Development mit HMR |
| `npm run build` | Production Build |
| `npm run make` | Windows Installer erstellen |
| `npm run lint` | ESLint ausführen |
| `npm run typecheck` | TypeScript Prüfung |

#### VS Code Konfiguration [Source: architecture/15-development-environment.md]
Erstelle `.vscode/extensions.json`:
```json
{
  "recommendations": [
    "dbaeumer.vscode-eslint",
    "esbenp.prettier-vscode",
    "bradlc.vscode-tailwindcss",
    "vitest.explorer"
  ]
}
```

Erstelle `.vscode/settings.json`:
```json
{
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  "editor.formatOnSave": true,
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": "explicit"
  },
  "typescript.preferences.importModuleSpecifier": "relative"
}
```

### Hinweise für den Dev Agent

1. **Electron Forge vs electron-vite:** Die Architektur spezifiziert `Electron Forge + Vite`, nicht `electron-vite`. Diese sind verschiedene Tools. Verwende das offizielle Electron Forge Vite-TypeScript Template.

2. **React 19:** React 19 ist die neueste Version. Falls Kompatibilitätsprobleme auftreten, ist React 18.3.x ebenfalls akzeptabel.

3. **Windows-spezifisch:** Die App ist nur für Windows 10/11 gedacht. Keine Mac/Linux-Konfiguration erforderlich.

4. **Ordnerstruktur:** Die initiale Struktur von Electron Forge muss angepasst werden, um der definierten Projektstruktur zu entsprechen.

5. **Keine DB/IPC in dieser Story:** Diese Story fokussiert NUR auf das Projekt-Setup. SQLite und IPC kommen in späteren Stories (1.2, 1.3).

### Testing

**Testing-Standards für diese Story:** [Source: architecture/14-testing-strategie.md]
- MVP-Phase: Keine automatisierten Tests erforderlich
- Manuelle Verifizierung der Acceptance Criteria ist ausreichend
- Test-Tooling wird nicht in dieser Story eingerichtet

**Manuelle Test-Checkliste:**
- [ ] `npm start` startet die App ohne Fehler
- [ ] React-Komponente wird korrekt angezeigt
- [ ] HMR funktioniert (Änderung → sofortige Aktualisierung)
- [ ] `npm run build` läuft ohne Fehler durch
- [ ] `npm run make` erstellt Windows-Executable
- [ ] Die erstellte .exe startet und zeigt die App

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-12-06 | 0.1 | Initial story draft | SM Bob |

## Dev Agent Record

### Agent Model Used

Claude Opus 4.5 (claude-opus-4-5-20251101)

### Debug Log References

*To be filled by Dev Agent*

### Completion Notes List

**Story Completion (2025-12-06):**

Alle Tasks (1-7) erfolgreich abgeschlossen.

**Verifizierte Scripts:**
- ✅ `npm start` - Development mit HMR funktioniert
- ✅ `npm run build` - Production Build erfolgreich
- ✅ `npm run make` - Windows Installer (.exe) erstellt
- ✅ `npm run lint` - ESLint läuft fehlerfrei
- ✅ `npm run typecheck` - TypeScript Prüfung bestanden

**Hinweise für folgende Stories:**
- Die devLoadAlwaysFiles (coding-standards.md, tech-stack.md, source-tree.md) existieren noch nicht
- "Generated an empty chunk: index" Warning beim Preload - kann ignoriert werden
- Electron Forge + Vite Template wurde korrekt verwendet (nicht electron-vite)

### File List

**Neue/Modifizierte Dateien:**
- `package.json` - Projekt-Konfiguration und Scripts
- `package-lock.json` - Dependency Lock
- `tsconfig.json` - TypeScript-Konfiguration
- `forge.config.ts` - Electron Forge Konfiguration
- `forge.env.d.ts` - Forge TypeScript-Definitionen
- `vite.main.config.ts` - Vite Konfiguration Main Process
- `vite.renderer.config.mts` - Vite Konfiguration Renderer
- `vite.preload.config.ts` - Vite Konfiguration Preload
- `index.html` - HTML Entry Point
- `.eslintrc.json` - ESLint Konfiguration
- `.gitignore` - Git Ignore Rules
- `src/main/index.ts` - Electron Main Process Entry
- `src/preload/index.ts` - Preload Script Entry
- `src/renderer/main.tsx` - React Entry Point
- `src/renderer/App.tsx` - React App Komponente
- `src/renderer/index.css` - Globale Styles
- `src/renderer/components/index.ts` - Components Re-Export
- `src/renderer/stores/index.ts` - Stores Re-Export
- `src/renderer/hooks/index.ts` - Hooks Re-Export
- `src/renderer/utils/index.ts` - Utils Re-Export
- `src/renderer/utils/formatters.ts` - Utility Funktionen
- `src/shared/types/index.ts` - Shared Types
- `src/shared/ipc/index.ts` - IPC Re-Export
- `src/shared/utils/index.ts` - Shared Utils Re-Export

## QA Results

*To be filled by QA Agent*
